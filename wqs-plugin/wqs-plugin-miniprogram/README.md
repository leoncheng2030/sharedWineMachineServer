# wqs-plugin-miniprogram

微信小程序专用插件

## 📋 插件概述

本插件专门为微信小程序提供后端API服务，通过调用现有业务插件的API接口，为小程序提供优化的数据格式和用户体验。

## 🎯 核心功能

### 认证管理
- 微信登录集成
- 用户信息管理
- Token管理
- 权限控制

### 购物功能
- 酒品浏览和搜索
- 扫码购买
- 附近门店查询
- 订单创建

### 订单管理
- 订单列表和详情
- 订单状态管理
- 订单操作（取消、确认等）

### 支付功能
- 微信支付集成
- 支付回调处理
- 退款处理

### 用户中心
- 用户资料管理
- 钱包功能
- 佣金记录
- 提现申请

## 🏗️ 技术架构

### 依赖插件
- wqs-plugin-auth-api: 认证相关API
- wqs-plugin-wine-api: 酒品相关API
- wqs-plugin-device-api: 设备相关API
- wqs-plugin-store-api: 门店相关API
- wqs-plugin-commission-api: 佣金相关API

### 核心技术
- Spring Boot 3.x
- Sa-Token (C端权限控制)
- 微信支付SDK
- Hutool工具包

## 🔐 权限设计

### C端权限注解
```java
@SaClientCheckLogin          // C端登录检查
@SaClientCheckRole("consumer")   // C端角色检查
```

### 数据安全
- 用户数据隔离
- 订单权限校验
- 支付安全控制

## 📊 接口规范

### 统一前缀
所有接口以 `/api/miniprogram` 开头

### 响应格式
```json
{
    "code": 200,
    "msg": "操作成功",
    "data": {...}
}
```

### 错误处理
- 统一异常处理
- 友好错误提示
- 安全信息过滤

## 🚀 开发状态

- [x] 基础框架搭建
- [ ] 认证模块开发
- [ ] 购物模块开发
- [ ] 订单模块开发
- [ ] 支付模块开发
- [ ] 用户中心开发
- [ ] 测试和优化

## 📝 更新日志

### v1.0.0 (2025-01-30)
- 初始版本创建
- 基础框架搭建完成 